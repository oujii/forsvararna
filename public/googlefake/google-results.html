<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Search Results Prop</title>
    <style>
        /* Basic Reset & Dark Theme */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #202124; /* Dark background */
            color: #bdc1c6; /* Light grey text */
            font-size: 14px;
        }
        a { color: #8ab4f8; text-decoration: none; }
        a:hover { text-decoration: underline; }
        h3 { font-weight: normal; margin: 0 0 5px 0; font-size: 1.2em; }
        cite { color: #bdc1c6; font-style: normal; font-size: 14px; }
        .snippet { color: #bdc1c6; line-height: 1.57; font-size: 14px; }
        img { max-width: 100%; height: auto; display: block; }

        /* Header Area */
        .results-header {
            display: flex;
            align-items: center;
            padding: 15px 30px;
            border-bottom: 1px solid #3c4043; /* Darker border */
        }
        .results-header .google-logo-small img {
             width: 92px; /* Approximate size */
             height: 30px;
             margin-right: 40px;
        }
        .results-search-bar {
            flex-grow: 1;
            display: flex;
            align-items: center;
            background-color: #303134; /* Darker input background */
            border-radius: 24px;
            padding: 0 15px;
            height: 44px;
            border: 1px solid #303134;
            box-shadow: none;
            max-width: 690px; /* Typical results page width */
        }
         .results-search-bar input {
             flex-grow: 1;
             background: transparent;
             border: none;
             outline: none;
             color: #e8eaed; /* Lighter text for input */
             font-size: 16px;
             padding: 0 10px;
         }
         .results-search-bar .results-icons svg {
             fill: #9aa0a6; /* Grey icons */
             width: 20px;
             height: 20px;
             margin: 0 8px;
             cursor: pointer;
         }
         .results-search-bar .results-icons .search-icon-blue {
             fill: #8ab4f8; /* Blue search icon */
         }

        .header-right-icons {
            display: flex;
            align-items: center;
            margin-left: auto; /* Push to the right */
        }
         .header-right-icons svg { /* Settings, Apps */
             fill: #bdc1c6;
             width: 24px;
             height: 24px;
             margin-left: 20px;
             cursor: pointer;
         }
         .header-right-icons .sign-in-btn-results {
             background-color: #8ab4f8; /* Lighter blue */
             color: #202124; /* Dark text */
             padding: 9px 23px;
             border-radius: 4px;
             font-weight: 500;
             margin-left: 20px;
             border: 1px solid transparent;
             font-size: 14px;
             cursor: pointer;
         }
         .header-right-icons .sign-in-btn-results:hover {
             opacity: 0.9;
         }


        /* Filter Bar */
        .filter-bar {
            display: flex;
            padding: 15px 30px 0 160px; /* Align with results */
            border-bottom: 1px solid #3c4043;
        }
        .filter-bar a {
            color: #9aa0a6; /* Grey inactive filters */
            padding: 0 12px 10px 12px;
            margin-right: 8px;
            font-size: 14px;
            white-space: nowrap;
        }
        .filter-bar a.active {
            color: #8ab4f8; /* Blue active filter */
            border-bottom: 3px solid #8ab4f8;
        }
        .filter-bar .tools {
            margin-left: auto; /* Push tools to right */
            color: #9aa0a6;
            padding-bottom: 10px;
        }

        /* Main Content Area */
        .results-container {
            display: flex;
            padding: 20px 30px;
            max-width: 1050px; /* Limit width */
            margin: 0 auto; /* Center */
        }

        /* Left Column (Organic Results, etc.) */
        .results-main {
            width: 650px; /* Fixed width for main results */
            padding-right: 30px;
        }

        .result-item {
            margin-bottom: 25px;
        }
        .result-item .result-header {
            display: flex;
            align-items: center;
            margin-bottom: 3px;
        }
        .result-item .favicon {
            width: 16px;
            height: 16px;
            margin-right: 8px;
        }
        .result-item .display-url {
            font-size: 14px;
            color: #bdc1c6;
            display: block; /* Put URL below title */
        }
         .result-item h3 a {
             font-size: 20px;
             color: #8ab4f8;
         }
         .result-item h3 a:visited { /* Optional: style visited links */
             color: #bdc1c6;
         }


        /* Related Questions */
        .related-questions { margin-bottom: 30px; }
        .related-questions h3 { font-size: 20px; color: #e8eaed; margin-bottom: 15px; }
        .question-item {
            border-bottom: 1px solid #3c4043;
            padding: 12px 0;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .question-item:last-child { border-bottom: none; }
        .question-item span { color: #bdc1c6; }
        .question-item::after { /* Simple dropdown arrow */
            content: '>';
            font-size: 16px;
            color: #9aa0a6;
            transform: rotate(90deg);
        }

        /* Videos Section */
        .videos-section { margin-bottom: 30px; }
        .videos-section h3 { font-size: 20px; color: #e8eaed; margin-bottom: 15px; }
        .video-list { display: flex; gap: 15px; overflow-x: auto; } /* Allow horizontal scroll if needed */
        .video-item { flex: 0 0 150px; /* Fixed width for video items */ }
        .video-item img { border-radius: 8px; margin-bottom: 5px; width: 150px; height: 84px; object-fit: cover; }
        .video-item .video-title { font-size: 14px; color: #bdc1c6; margin-bottom: 3px; display: block; }
        .video-item .video-source, .video-item .video-date { font-size: 12px; color: #9aa0a6; display: block; }

        /* Songs Section */
        .songs-section { margin-bottom: 30px; }
        .songs-section h3 { font-size: 20px; color: #e8eaed; margin-bottom: 15px; }
        .song-list { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px 20px; }
        .song-item { border-bottom: 1px solid #3c4043; padding-bottom: 8px; }
        .song-item:nth-last-child(-n+2) { border-bottom: none; } /* Remove border for last row */
        .song-item .song-title { color: #bdc1c6; display: block; }
        .song-item .song-album { font-size: 12px; color: #9aa0a6; display: block; }


        /* Related Searches */
        .related-searches { margin-bottom: 30px; }
        .related-searches h3 { font-size: 20px; color: #e8eaed; margin-bottom: 15px; }
        .related-search-list { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .related-search-item {
            background-color: #303134;
            padding: 10px 15px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            color: #bdc1c6;
            cursor: pointer;
        }
        .related-search-item svg { fill: #9aa0a6; width: 16px; height: 16px; margin-right: 8px; }


        /* Right Column (Knowledge Panel) */
        .results-sidebar {
            width: 350px; /* Adjust width as needed */
            padding-left: 30px;
            border-left: 1px solid #3c4043;
        }
        .knowledge-panel {
            background-color: #303134; /* Slightly different background for panel */
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .knowledge-panel .kp-header { margin-bottom: 10px; }
        .knowledge-panel .kp-title { font-size: 24px; color: #e8eaed; margin: 0; }
        .knowledge-panel .kp-subtitle { color: #bdc1c6; margin-bottom: 15px; }

        .knowledge-panel .kp-images { display: flex; gap: 5px; margin-bottom: 15px; }
        .knowledge-panel .kp-images .main-image img { width: 200px; height: 200px; object-fit: cover; border-radius: 4px; }
        .knowledge-panel .kp-images .thumb-images { display: flex; flex-direction: column; gap: 5px; }
        .knowledge-panel .kp-images .thumb-images img { width: 100px; height: 100px; object-fit: cover; border-radius: 4px; }

        .knowledge-panel .kp-tabs { display: flex; margin-bottom: 15px; border-bottom: 1px solid #5f6368; }
        .knowledge-panel .kp-tabs button {
            background: none; border: none; color: #bdc1c6; padding: 10px 15px; cursor: pointer; font-size: 14px;
            border-bottom: 3px solid transparent; margin-bottom: -1px; /* Align border */
        }
        .knowledge-panel .kp-tabs button.active { color: #8ab4f8; border-bottom-color: #8ab4f8; }

        .knowledge-panel .kp-details { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 15px; }
        .knowledge-panel .kp-detail-item .label { font-size: 14px; color: #e8eaed; margin-bottom: 2px; }
        .knowledge-panel .kp-detail-item .value { font-size: 14px; color: #bdc1c6; }
        .knowledge-panel .kp-detail-item .subtext { font-size: 12px; color: #9aa0a6; }
        .knowledge-panel .kp-detail-item.has-image { display: flex; align-items: center; }
        .knowledge-panel .kp-detail-item.has-image img { width: 40px; height: 40px; border-radius: 4px; margin-left: 10px; }

        .knowledge-panel .kp-videos .video-item { display: flex; gap: 10px; margin-bottom: 10px; }
        .knowledge-panel .kp-videos img { width: 100px; height: 56px; border-radius: 4px; object-fit: cover; }
        .knowledge-panel .kp-videos .video-info .video-title { font-size: 14px; color: #8ab4f8; margin-bottom: 2px; }
        .knowledge-panel .kp-videos .video-info .video-source,
        .knowledge-panel .kp-videos .video-info .video-date { font-size: 12px; color: #9aa0a6; }

        .knowledge-panel .kp-related-links .link-item { display: flex; gap: 10px; align-items: center; margin-bottom: 10px; }
        .knowledge-panel .kp-related-links img { width: 50px; height: 50px; border-radius: 4px; object-fit: cover; }
        .knowledge-panel .kp-related-links .link-info .link-title { font-size: 14px; color: #8ab4f8; margin-bottom: 2px; }
        .knowledge-panel .kp-related-links .link-info .link-source { font-size: 12px; color: #9aa0a6; }

        .knowledge-panel .kp-listen h4 { font-size: 16px; color: #e8eaed; margin-bottom: 10px; }
        .knowledge-panel .kp-listen .platforms { display: flex; gap: 15px; }
        .knowledge-panel .kp-listen .platform-item { text-align: center; cursor: pointer; }
        .knowledge-panel .kp-listen .platform-item img { width: 32px; height: 32px; border-radius: 4px; margin-bottom: 5px; }
        .knowledge-panel .kp-listen .platform-item span { font-size: 12px; color: #bdc1c6; }


        /* Footer */
        .results-footer {
            background-color: #171717; /* Even darker footer */
            padding: 15px 30px;
            border-top: 1px solid #3c4043;
            font-size: 12px;
            color: #9aa0a6;
        }
         .results-footer .footer-location {
             padding-bottom: 10px;
             margin-bottom: 10px;
             border-bottom: 1px solid #3c4043;
         }
         .results-footer .footer-links a {
             color: #9aa0a6;
             margin-right: 20px;
         }

    </style>
</head>
<body>

    <header class="results-header">
        <a href="google-prop.html" class="google-logo-small">
            <!-- Replace with actual Google logo SVG if possible -->
            <img src="https://www.google.com/images/branding/googlelogo/2x/googlelogo_light_color_92x30dp.png" alt="Google">
        </a>
        <div class="results-search-bar">
            <input type="text" id="resultsQueryInput" value=""> <!-- Value set by JS -->
            <div class="results-icons">
                <!-- Icons: Clear (X), Mic, Lens, Search -->
                 <svg class="clear-icon" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
                 <svg class="mic-icon" focusable="false" viewBox="0 0 24 24"><path fill="#4285f4" d="m12 15c1.66 0 3-1.34 3-3v-6c0-1.66-1.34-3-3-3s-3 1.34-3 3v6c0 1.66 1.34 3 3 3z"></path><path fill="#34a853" d="m11 18.08h2v3.92h-2z"></path><path fill="#fbbc05" d="m7.05 16.87c-1.27-1.27-2.05-2.98-2.05-4.87h2c0 1.45 0.56 2.72 1.46 3.68l-1.41 1.19z"></path><path fill="#ea4335" d="m12 17c1.97 0 3.68-1.19 4.5-2.95h-9c0.82 1.76 2.53 2.95 4.5 2.95z"></path></svg>
                 <svg class="lens-icon" focusable="false" viewBox="0 0 24 24"> <path d="M13.1,15.6c-1.1,0.8-2.4,1.3-3.9,1.3c-3.4,0-6.2-2.8-6.2-6.2s2.8-6.2,6.2-6.2s6.2,2.8,6.2,6.2 c0,1.4-0.5,2.8-1.3,3.9L18.5,19L17,20.5L13.1,15.6z M9.2,14.8c2.5,0,4.6-2.1,4.6-4.6S11.7,5.6,9.2,5.6S4.6,7.7,4.6,10.2 S6.7,14.8,9.2,14.8z"></path><path fill="#34A853" d="M15.2,12.8h1.1v-1.1h-1.1V12.8z M15.2,10.6h1.1V9.5h-1.1V10.6z M12.9,15.1h1.1v-1.1h-1.1V15.1z M15.2,15.1h1.1v-1.1h-1.1V15.1z M10.7,15.1h1.1v-1.1h-1.1V15.1z M8.5,15.1h1.1v-1.1H8.5V15.1z M6.3,15.1h1.1v-1.1H6.3V15.1z M17.4,15.1h1.1v-1.1h-1.1V15.1z M17.4,12.8h1.1v-1.1h-1.1V12.8z M17.4,10.6h1.1V9.5h-1.1V10.6z M17.4,8.3h1.1V7.2h-1.1V8.3z M17.4,6.1h1.1V5h-1.1V6.1z M15.2,6.1h1.1V5h-1.1V6.1z M12.9,6.1h1.1V5h-1.1V6.1z M10.7,6.1h1.1V5h-1.1V6.1z M8.5,6.1h1.1V5H8.5V6.1z M6.3,6.1h1.1V5H6.3V6.1z M4.1,6.1h1.1V5H4.1V6.1z M4.1,8.3h1.1V7.2H4.1V8.3z M4.1,10.6h1.1V9.5H4.1V10.6z M4.1,12.8h1.1v-1.1H4.1V12.8z M4.1,15.1h1.1v-1.1H4.1V15.1z"></path> </svg>
                 <svg class="search-icon-blue" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg>
            </div>
        </div>
        <div class="header-right-icons">
             <!-- Settings Icon -->
             <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.68,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"></path></svg>
             <!-- Apps Icon -->
             <svg class="apps-icon" focusable="false" viewBox="0 0 24 24"><path d="M6,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2z"></path></svg>
             <button class="sign-in-btn-results">Sign in</button>
        </div>
    </header>

    <div class="filter-bar">
        <a href="#" class="active">All</a>
        <a href="#">Images</a>
        <a href="#">News</a>
        <a href="#">Videos</a>
        <a href="#">Shopping</a>
        <a href="#">Maps</a>
        <a href="#">Books</a>
        <a href="#">Flights</a>
        <a href="#">Finance</a>
        <span class="tools">Tools</span>
    </div>

    <div class="results-container">
        <div class="results-main" id="resultsMain">
            <!-- Organic Results will be loaded here -->
            <!-- Related Questions will be loaded here -->
            <!-- Videos Section will be loaded here -->
            <!-- Songs Section will be loaded here -->
             <!-- Related Searches will be loaded here -->
        </div>
        <div class="results-sidebar" id="resultsSidebar">
            <!-- Knowledge Panel will be loaded here -->
        </div>
    </div>

    <footer class="results-footer">
        <div class="footer-location">Sweden</div>
        <div class="footer-links">
            <a href="#">Help</a>
            <a href="#">Send feedback</a>
            <a href="#">Privacy</a>
            <a href="#">Terms</a>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', loadResults);

        async function loadResults() {
            try {
                // Försök ladda JSON-filen först
                const response = await fetch('search-results.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();

                console.log("Loaded data:", data); // Debug log

                // Populera sidan med datan
                document.getElementById('resultsQueryInput').value = data.query || '';
                populateMainResults(data.results);
                populateSidebar(data.results.knowledgePanel);

            } catch (error) {
                console.warn("Kunde inte ladda search-results.json, använder fallback-data:", error);

                // Fallback-data
                const fallbackData = {
                    query: "Olle Jönsson",
                    results: {
                        organicResults: [
                            {
                                title: "Olle Jönsson - Wikipedia",
                                url: "https://sv.wikipedia.org/wiki/Olle_Jönsson",
                                displayUrl: "https://sv.wikipedia.org › wiki › Olle_Jönsson",
                                snippet: "Bengt-Olle Jonny Jönsson, född 1 december 1955 i Kristianstads församling, Kristianstads län, är en svensk sångare. Han är sångare i det svenska dansbandet...",
                                favicon: "https://via.placeholder.com/16x16.png?text=W"
                            }
                        ],
                        knowledgePanel: {
                            title: "Olle Jönsson",
                            subtitle: "Swedish singer",
                            images: ["https://via.placeholder.com/200x200.png?text=Olle+1"],
                            details: [
                                { label: "Age", value: "69 years", subtext: "1 Dec 1955" }
                            ]
                        }
                    }
                };

                // Använd fallback-datan
                document.getElementById('resultsQueryInput').value = fallbackData.query;
                populateMainResults(fallbackData.results);
                populateSidebar(fallbackData.results.knowledgePanel);
            }
        }

        function populateMainResults(results) {
            console.log("Populating main results with:", results); // Debug log
            const mainContainer = document.getElementById('resultsMain');
            mainContainer.innerHTML = ''; // Clear previous content

            // Organic Results
            if (results.organicResults && results.organicResults.length > 0) {
                console.log("Organic results:", results.organicResults); // Debug log
                results.organicResults.forEach(result => {
                    mainContainer.innerHTML += `
                        <div class="result-item">
                            <div class="result-header">
                                ${result.favicon ? `<img src="${result.favicon}" alt="" class="favicon">` : ''}
                                <div>
                                    <cite>${result.displayUrl || result.url}</cite>
                                    <h3 class="result-title"><a href="${result.url || '#'}">${result.title}</a></h3>
                                </div>
                            </div>
                            <div class="snippet">${result.snippet || ''}</div>
                        </div>
                    `;
                });
            }

             // Related Questions
             if (results.relatedQuestions && results.relatedQuestions.length > 0) {
                 let questionsHTML = '<div class="related-questions"><h3>Fler frågor du kan ställa</h3>';
                 results.relatedQuestions.forEach(q => {
                     questionsHTML += `<div class="question-item"><span>${q}</span></div>`;
                 });
                 questionsHTML += '</div>';
                 mainContainer.innerHTML += questionsHTML;
             }

             // Videos Section
             if (results.videosSection) {
                 console.log("Video section:", results.videosSection); // Debug log
                 let videosHTML = '<div class="videos-section"><h3>Videor</h3><div class="video-list">';
                 results.videosSection.forEach(v => {
                     videosHTML += `
                         <div class="video-item">
                             <a href="#"><img src="${v.thumbnail}" alt="${v.title}"></a>
                             <a href="#" class="video-title">${v.title}</a>
                             <span class="video-source">${v.source}</span>
                             <span class="video-date">${v.date}</span>
                         </div>
                     `;
                 });
                 videosHTML += '</div></div>';
                 mainContainer.innerHTML += videosHTML;
             }

             // Songs Section
             if (results.songsSection) {
                 console.log("Songs section:", results.songsSection); // Debug log
                 let songsHTML = '<div class="songs-section"><h3>Låtar</h3><div class="song-list">';
                 results.songsSection.forEach(s => {
                     songsHTML += `
                         <div class="song-item">
                             <span class="song-title">${s.title}</span>
                             <span class="song-album">${s.album}</span>
                         </div>
                     `;
                 });
                 songsHTML += '</div></div>';
                 mainContainer.innerHTML += songsHTML;
             }

             // Related Searches
             if (results.relatedSearches) {
                 console.log("Related searches:", results.relatedSearches); // Debug log
                 let relatedHTML = '<div class="related-searches"><h3>Andra söker även efter</h3><div class="related-search-list">';
                 results.relatedSearches.forEach(s => {
                     relatedHTML += `
                         <div class="related-search-item">
                             <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg>
                             <span>${s}</span>
                         </div>
                     `;
                 });
                 relatedHTML += '</div></div>';
                 mainContainer.innerHTML += relatedHTML;
             }
        }

        function populateSidebar(panel) {
            const sidebarContainer = document.getElementById('resultsSidebar');
            sidebarContainer.innerHTML = ''; // Clear previous content

            if (!panel) return;

            let panelHTML = '<div class="knowledge-panel">';

            // Header
            panelHTML += `<div class="kp-header">
                            <h2 class="kp-title">${panel.title}</h2>
                            <div class="kp-subtitle">${panel.subtitle}</div>
                         </div>`;

            // Images
            if (panel.images && panel.images.length > 0) {
                panelHTML += '<div class="kp-images">';
                panelHTML += `<div class="main-image"><img src="${panel.images[0]}" alt="${panel.title}"></div>`;
                if (panel.images.length > 1) {
                    panelHTML += '<div class="thumb-images">';
                    panel.images.slice(1).forEach(img => {
                        panelHTML += `<img src="${img}" alt="">`;
                    });
                    panelHTML += '</div>';
                }
                panelHTML += '</div>';
            }

            // Tabs
            if (panel.tabs && panel.tabs.length > 0) {
                panelHTML += '<div class="kp-tabs">';
                panel.tabs.forEach((tab, index) => {
                    panelHTML += `<button class="${index === 0 ? 'active' : ''}">${tab}</button>`;
                });
                panelHTML += '</div>';
            }

             // Details
             if (panel.details && panel.details.length > 0) {
                 panelHTML += '<div class="kp-details">';
                 panel.details.forEach(item => {
                     panelHTML += `
                         <div class="kp-detail-item ${item.image ? 'has-image' : ''}">
                             <div>
                                 <div class="label">${item.label}</div>
                                 <div class="value">${item.value}</div>
                                 ${item.subtext ? `<div class="subtext">${item.subtext}</div>` : ''}
                             </div>
                             ${item.image ? `<img src="${item.image}" alt="">` : ''}
                         </div>
                     `;
                 });
                 panelHTML += '</div>';
             }

             // Videos in KP
             if (panel.videos && panel.videos.length > 0) {
                 panelHTML += '<div class="kp-videos">';
                 panel.videos.forEach(v => {
                     panelHTML += `
                         <div class="video-item">
                             <a href="#"><img src="${v.thumbnail}" alt="${v.title}"></a>
                             <div class="video-info">
                                 <a href="#" class="video-title">${v.title}</a>
                                 <span class="video-source">${v.source}</span>
                                 <span class="video-date">${v.date}</span>
                             </div>
                         </div>
                     `;
                 });
                 panelHTML += '</div>';
             }

             // Related Links in KP
             if (panel.relatedLinks && panel.relatedLinks.length > 0) {
                 panelHTML += '<div class="kp-related-links">';
                 panel.relatedLinks.forEach(link => {
                     panelHTML += `
                         <div class="link-item">
                             <a href="#"><img src="${link.thumbnail}" alt="${link.title}"></a>
                             <div class="link-info">
                                 <a href="#" class="link-title">${link.title}</a>
                                 <span class="link-source">${link.source}</span>
                             </div>
                         </div>
                     `;
                 });
                 panelHTML += '</div>';
             }

             // Listen Platforms
             if (panel.listenPlatforms && panel.listenPlatforms.length > 0) {
                 panelHTML += '<div class="kp-listen"><h4>Listen</h4><div class="platforms">';
                 panel.listenPlatforms.forEach(p => {
                     panelHTML += `
                         <div class="platform-item">
                             <img src="${p.icon}" alt="${p.name}">
                             <span>${p.name}</span>
                         </div>
                     `;
                 });
                 panelHTML += '</div></div>';
             }


            panelHTML += '</div>'; // Close knowledge-panel
            sidebarContainer.innerHTML = panelHTML;
        }

    </script>

</body>
</html>
